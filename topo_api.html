

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Topology Related Utility Functions &mdash; Bluefog  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.png"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Bluefog Operations Explanation" href="bluefog_ops.html" />
    <link rel="prev" title="Torch Module (API Reference)" href="torch_api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Bluefog
          

          
          </a>

          
            
            
              <div class="version">
                0.2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing Bluefog</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="torch_api.html">Bluefog Torch API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Bluefog Topology API</a></li>
</ul>
<p class="caption"><span class="caption-text">More Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bluefog_ops.html">Bluefog Ops Explanation</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Lauching Application Through bfrun</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Bluefog Docker Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_variable.html">Bluefog Environment Variable</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Bluefog Perform Comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="rationale.html">Bluefog Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="timeline.html">Bluefog Timeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="alg_spectrum.html">Spectrum of Machine Learning Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_structure.html">Codebase Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel_guide.html">Development Guide</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Bluefog</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Topology Related Utility Functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/topo_api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-bluefog.common.topology_util">
<span id="topology-related-utility-functions"></span><h1>Topology Related Utility Functions<a class="headerlink" href="#module-bluefog.common.topology_util" title="Permalink to this headline">¶</a></h1>
<dl class="py data">
<dt id="bluefog.common.topology_util.List">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">List</code><a class="headerlink" href="#bluefog.common.topology_util.List" title="Permalink to this definition">¶</a></dt>
<dd><p>The central part of internal API.</p>
<p>This represents a generic version of type ‘origin’ with type arguments ‘params’.
There are two kind of these aliases: user defined and special. The special ones
are wrappers around builtin collections and ABCs in collections.abc. These must
have ‘name’ always set. If ‘inst’ is False, then the alias can’t be instantiated,
this is used by e.g. typing.List and typing.Dict.</p>
<p>alias of List</p>
</dd></dl>

<dl class="py data">
<dt id="bluefog.common.topology_util.Tuple">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">Tuple</code><a class="headerlink" href="#bluefog.common.topology_util.Tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Tuple type; Tuple[X, Y] is the cross-product type of X and Y.</p>
<p>Example: Tuple[T1, T2] is a tuple of two elements corresponding
to type variables T1 and T2.  Tuple[int, float, str] is a tuple
of an int, a float and a string.</p>
<p>To specify a variable-length tuple of homogeneous type, use Tuple[T, …].</p>
<p>alias of Tuple</p>
</dd></dl>

<dl class="py data">
<dt id="bluefog.common.topology_util.Dict">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">Dict</code><a class="headerlink" href="#bluefog.common.topology_util.Dict" title="Permalink to this definition">¶</a></dt>
<dd><p>The central part of internal API.</p>
<p>This represents a generic version of type ‘origin’ with type arguments ‘params’.
There are two kind of these aliases: user defined and special. The special ones
are wrappers around builtin collections and ABCs in collections.abc. These must
have ‘name’ always set. If ‘inst’ is False, then the alias can’t be instantiated,
this is used by e.g. typing.List and typing.Dict.</p>
<p>alias of Dict</p>
</dd></dl>

<dl class="py data">
<dt id="bluefog.common.topology_util.Iterator">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">Iterator</code><a class="headerlink" href="#bluefog.common.topology_util.Iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>The central part of internal API.</p>
<p>This represents a generic version of type ‘origin’ with type arguments ‘params’.
There are two kind of these aliases: user defined and special. The special ones
are wrappers around builtin collections and ABCs in collections.abc. These must
have ‘name’ always set. If ‘inst’ is False, then the alias can’t be instantiated,
this is used by e.g. typing.List and typing.Dict.</p>
<p>alias of Iterator</p>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.IsTopologyEquivalent">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">IsTopologyEquivalent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topo1</span><span class="p">:</span> <span class="n">networkx.classes.digraph.DiGraph</span></em>, <em class="sig-param"><span class="n">topo2</span><span class="p">:</span> <span class="n">networkx.classes.digraph.DiGraph</span></em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#bluefog.common.topology_util.IsTopologyEquivalent" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine two topologies are equivalent or not.</p>
<p>Notice we do not check two topologies are isomorphism. Instead checking
the adjacenty matrix is the same only.</p>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.GetRecvWeights">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">GetRecvWeights</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topo</span><span class="p">:</span> <span class="n">networkx.classes.digraph.DiGraph</span></em>, <em class="sig-param"><span class="n">rank</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#bluefog.common.topology_util.Tuple" title="bluefog.common.topology_util.Tuple">Tuple</a><span class="p">[</span>float<span class="p">, </span><a class="reference internal" href="#bluefog.common.topology_util.Dict" title="bluefog.common.topology_util.Dict">Dict</a><span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span><span class="p">]</span><a class="headerlink" href="#bluefog.common.topology_util.GetRecvWeights" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Tuple of self_weight and neighbor_weights for receiving dictionary.</p>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.GetSendWeights">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">GetSendWeights</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topo</span><span class="p">:</span> <span class="n">networkx.classes.digraph.DiGraph</span></em>, <em class="sig-param"><span class="n">rank</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#bluefog.common.topology_util.Tuple" title="bluefog.common.topology_util.Tuple">Tuple</a><span class="p">[</span>float<span class="p">, </span><a class="reference internal" href="#bluefog.common.topology_util.Dict" title="bluefog.common.topology_util.Dict">Dict</a><span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span><span class="p">]</span><a class="headerlink" href="#bluefog.common.topology_util.GetSendWeights" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Tuple of self_weight and neighbor_weights for sending dictionary.</p>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.PowerTwoRingGraph">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">PowerTwoRingGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; networkx.classes.digraph.DiGraph<a class="headerlink" href="#bluefog.common.topology_util.PowerTwoRingGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate graph topology such that each points only
connected to a point such that the index difference is power of 2.</p>
<p>Example: A PowerTwoRingGraph with 12 nodes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bluefog.common</span> <span class="kn">import</span> <span class="n">topology_util</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">topology_util</span><span class="o">.</span><span class="n">PowerTwoRingGraph</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">draw_circular</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-default">
<img alt="_images/topo_api-1.png" src="_images/topo_api-1.png" />
</div>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.isPowerOf">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">isPowerOf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">base</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bluefog.common.topology_util.isPowerOf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.PowerGraph">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">PowerGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">base</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em><span class="sig-paren">)</span> &#x2192; networkx.classes.digraph.DiGraph<a class="headerlink" href="#bluefog.common.topology_util.PowerGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate graph topology such that each points only
connected to a point such that the index difference is power of base. (Default is 2)</p>
<p>Example: A PowerGraph with 12 nodes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bluefog.common</span> <span class="kn">import</span> <span class="n">topology_util</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">topology_util</span><span class="o">.</span><span class="n">PowerGraph</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">draw_circular</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-default">
<img alt="_images/topo_api-2.png" src="_images/topo_api-2.png" />
</div>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.SymmetricPowerGraph">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">SymmetricPowerGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">base</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">4</span></em><span class="sig-paren">)</span> &#x2192; networkx.classes.digraph.DiGraph<a class="headerlink" href="#bluefog.common.topology_util.SymmetricPowerGraph" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Generate symmeteric graph topology such that for the first half of nodes
only connected to a point such that the index difference is power of base (Default is 4)
and the connectivity for the second half of nodes just mirrored to the first half.</p>
</div></blockquote>
<p>Example: A SymmetricPowerGraph with 12 nodes</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bluefog.common</span> <span class="kn">import</span> <span class="n">topology_util</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">topology_util</span><span class="o">.</span><span class="n">SymmetricPowerGraph</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">draw_circular</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-default">
<img alt="_images/topo_api-3.png" src="_images/topo_api-3.png" />
</div>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.MeshGrid2DGraph">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">MeshGrid2DGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">shape</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#bluefog.common.topology_util.Tuple" title="bluefog.common.topology_util.Tuple">Tuple</a><span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; networkx.classes.digraph.DiGraph<a class="headerlink" href="#bluefog.common.topology_util.MeshGrid2DGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate 2D MeshGrid structure of graph.</p>
<p>Assume shape = (nrow, ncol), when shape is provided, a meshgrid of nrow*ncol will be generated.
when shape is not provided, nrow and ncol will be the two closest factors of size.</p>
<p>For example: size = 24, nrow and ncol will be 4 and 6, respectively.
We assume  nrow will be equal to or smaller than ncol.
If size is a prime number, nrow will be 1, and ncol will be size, which degrades the topology
into a linear one.</p>
<p>Example: A MeshGrid2DGraph with 16 nodes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bluefog.common</span> <span class="kn">import</span> <span class="n">topology_util</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">topology_util</span><span class="o">.</span><span class="n">MeshGrid2DGraph</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">draw_spring</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-default">
<img alt="_images/topo_api-4.png" src="_images/topo_api-4.png" />
</div>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.StarGraph">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">StarGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">center_rank</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em><span class="sig-paren">)</span> &#x2192; networkx.classes.digraph.DiGraph<a class="headerlink" href="#bluefog.common.topology_util.StarGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate star structure of graph.</p>
<p>All other ranks are connected to the center_rank. The connection is
bidirection, i.e. if the weight from node i to node j is non-zero, so
is the weight from node j to node i.</p>
<p>Example: A StarGraph with 16 nodes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bluefog.common</span> <span class="kn">import</span> <span class="n">topology_util</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">topology_util</span><span class="o">.</span><span class="n">StarGraph</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">draw_spring</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-default">
<img alt="_images/topo_api-5.png" src="_images/topo_api-5.png" />
</div>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.RingGraph">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">RingGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">connect_style</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em><span class="sig-paren">)</span> &#x2192; networkx.classes.digraph.DiGraph<a class="headerlink" href="#bluefog.common.topology_util.RingGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate ring structure of graph (uniliteral).
Argument connect_style should be an integer between 0 and 2, where
0 represents the bi-connection, 1 represents the left-connection,
and 2 represents the right-connection.</p>
<p>Example: A RingGraph with 16 nodes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bluefog.common</span> <span class="kn">import</span> <span class="n">topology_util</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">topology_util</span><span class="o">.</span><span class="n">RingGraph</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">draw_circular</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-default">
<img alt="_images/topo_api-6.png" src="_images/topo_api-6.png" />
</div>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.FullyConnectedGraph">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">FullyConnectedGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; networkx.classes.digraph.DiGraph<a class="headerlink" href="#bluefog.common.topology_util.FullyConnectedGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate fully connected structure of graph.
For example, a FullyConnectedGraph with 16 nodes:</p>
<p>Example: A FullyConnectedGraph 16 nodes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bluefog.common</span> <span class="kn">import</span> <span class="n">topology_util</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">topology_util</span><span class="o">.</span><span class="n">FullyConnectedGraph</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">draw_spring</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-default">
<img alt="_images/topo_api-7.png" src="_images/topo_api-7.png" />
</div>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.IsRegularGraph">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">IsRegularGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topo</span><span class="p">:</span> <span class="n">networkx.classes.digraph.DiGraph</span></em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#bluefog.common.topology_util.IsRegularGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Dtermine a graph is regular or not, i.e. all nodes have the same degree.</p>
</dd></dl>

<dl class="py function">
<dt id="bluefog.common.topology_util.GetDynamicSendRecvRanks">
<code class="sig-prename descclassname">bluefog.common.topology_util.</code><code class="sig-name descname">GetDynamicSendRecvRanks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topo</span><span class="p">:</span> <span class="n">networkx.classes.digraph.DiGraph</span></em>, <em class="sig-param"><span class="n">self_rank</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#bluefog.common.topology_util.Iterator" title="bluefog.common.topology_util.Iterator">Iterator</a><span class="p">[</span><a class="reference internal" href="#bluefog.common.topology_util.Tuple" title="bluefog.common.topology_util.Tuple">Tuple</a><span class="p">[</span>int<span class="p">, </span><a class="reference internal" href="#bluefog.common.topology_util.List" title="bluefog.common.topology_util.List">List</a><span class="p">[</span>int<span class="p">]</span><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#bluefog.common.topology_util.GetDynamicSendRecvRanks" title="Permalink to this definition">¶</a></dt>
<dd><p>A utility function to generate 1-outoging send rank and corresponding recieving rank(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topo</strong> (<em>nx.DiGraph</em>) – The base topology to generate dynamic send and receive ranks.</p></li>
<li><p><strong>self_rank</strong> (<em>int</em>) – The self rank.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>Iterator[Tuple[int, List[int]]]</em> – send_rank, recv_ranks.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bluefog.common</span> <span class="kn">import</span> <span class="n">topology_util</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">topo</span> <span class="o">=</span> <span class="n">topology_util</span><span class="o">.</span><span class="n">PowerTwoRingGraph</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span> <span class="o">=</span> <span class="n">topology_util</span><span class="o">.</span><span class="n">GetDynamicSendRecvRanks</span><span class="p">(</span><span class="n">topo</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">gen</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bluefog_ops.html" class="btn btn-neutral float-right" title="Bluefog Operations Explanation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="torch_api.html" class="btn btn-neutral float-left" title="Torch Module (API Reference)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Bicheng Ying

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>